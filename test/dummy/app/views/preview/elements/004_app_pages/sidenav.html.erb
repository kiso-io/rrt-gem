<div class="container-fluid">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h3 class="panel-title">Sidenav</h3>
    </div>
    <div class="panel-body">
      <div class="nav-side-menu">
        <div class="brand">Sidenav Header</div>
        <i class="fa fa-bars fa-2x toggle-btn" data-toggle="collapse" data-target="#example-sidenav-menu"></i>

        <div class="menu-list">
          <ul id="example-sidenav-menu" class="menu-content collapse">
            <% @elements.each do |el| %>

            <% if el[:children].any? %>

            <li data-toggle="collapse" data-target="#<%= el[:target_name] %>" class="<%= "collapsed" unless @section.downcase.include?(el[:parent_name].downcase) %> <%= "active" if @section.downcase.include?(el[:parent_name].downcase) %>">
              <a href="#"><i class="fa <%=el[:icon]%> fa-lg"></i><%= el[:display_name] %><span class="arrow"></span></a>
            </li>
            <ul class="sub-menu collapse <%= "in" if @section.downcase.include?(el[:parent_name].downcase ) %>" id="<%= el[:target_name] %>">
              <% el[:children].each do |child_el| %>
              <%=activatable_li_tag_with_link child_el[:display_name], element_path(File.join(el[:parent_name],child_el[:child_name])) %>
              <% end %>
            </ul>

            <% else %>

            <%=activatable_li_tag el[:display_name], element_path(el[:parent_name]) do %>
            <% @is_active = @section.downcase.include?(el[:parent_name].downcase) ? 'active' : '' %>

            <%= link_to element_path(el[:parent_name]), class: @is_active do %>
            <i class="fa <%=el[:icon]%> fa-lg"></i>
            <%= el[:display_name].titleize %>
            <% end %>
            <% end %>

            <% end %>

            <% end %>
            <li>
              <div class="nav-side-menu-footer">
                <div>
                  <small>
                    <strong>3 Users</strong> / 10 Users
                    <span class="pull-right">
                      <button class='btn btn-outline-info btn-flat btn-xs'><i class="fa fa-plus"></i></button>
                    </span>
                  </small>
                </div>
                <div class="progress progress-mini">
                  <div class="progress-bar progress-bar-primary" role="progressbar" aria-valuenow="33" aria-valuemin="0" aria-valuemax="100" style="width: 33%"></div>
                </div>
                <div class='text-center'>
                  100% operatinal capacity
                </div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>